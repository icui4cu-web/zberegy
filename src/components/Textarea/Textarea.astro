---
import "./textarea.scss";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"textarea"> {
	class?: string;
	counter?: boolean;
	maxlength?: number;
}

const { class: className, counter, maxlength, ...rest } = Astro.props;
const showCounter = counter && maxlength > 0;
---

<textarea class:list={[className, "textarea"]} {maxlength} {...rest} data-textarea></textarea>
{
	showCounter && (
		<div class="textarea-counter" data-textarea-counter>
			0/{maxlength}
		</div>
	)
}
