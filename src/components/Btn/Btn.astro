---
import type { HTMLTag, Polymorphic } from "astro/types";
import "./btn.scss";

import Icon from "@components/Icon/Icon.astro";

type Props<Tag extends HTMLTag> = Polymorphic<{
	as: Tag;
	theme: "dark" | "primary" | "success" | "info";
	variant: "fill" | "outline";
	iconStart?: string;
	iconEnd?: string;
	class?: string;
}>;

const {
	class: className,
	as: Tag,
	theme,
	variant,
	iconStart,
	iconEnd,
	...props
} = Astro.props;
---

<Tag
	class:list={[className, `btn btn_theme_${theme} btn_variant_${variant}`]}
	{...props}
>
	{iconStart && <Icon class="btn__icon" id={iconStart} />}
	<slot />
	{iconEnd && <Icon class="btn__icon" id={iconEnd} />}
</Tag>
